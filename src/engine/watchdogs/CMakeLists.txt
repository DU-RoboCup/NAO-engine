if (${IS_CROSS} STREQUAL "TRUE")
	set (CMAKE_SHARED_LINKER_FLAGS "-Wl,--no-as-needed")
	qi_create_bin(pineapple "watchdog.cpp")
    qi_use_lib(pineapple BOOST luatables lua PTHREAD)
    set(Boost_USE_MULTITHREADED ON)
    set (Boost_USE_STATIC_LIBS OFF)
    add_definitions(-DBOOST_ALL_DYN_LINK)

else()
	set (CMAKE_SHARED_LINKER_FLAGS "-Wl, --no-as-needed")
	qi_create_bin(pineapple "watchdog.cpp" "../../debug/debug.cpp")
    qi_use_lib(pineapple luatables lua PTHREAD)
    target_link_libraries(pineapple boost_system boost_log_setup boost_log boost_thread)
    set(Boost_USE_MULTITHREADED ON)
endif()
